# 08/01/2025: Small Fixes (RAG, ML, Misc.)

### Fix cascading delete issues and resolve relationship conflicts in chat models

- Commit `7a5ab7ecf11183599e8f34bc420e6bc9b5418f50` in branch `patches`
- Added `ON DELETE CASCADE` to `chat_messages` and `chat_session_metrics` foreign keys
- Replaced conflicting `backref` usage with `back_populates` in `ChatSession` and `ChatMessage` models
- Ensured full cascade deletion from `JobPosting` down to related `ChatSession`, `ChatMessage`, and `ChatSessionMetrics` records

This commit resolves integrity errors when deleting job postings by enabling proper cascading deletes across related chat tables. It also fixes a mapper initialization error caused by conflicting relationship definitions, ensuring SQLAlchemy handles model dependencies cleanly without attempting invalid `NULL` updates.

### Implement job deletion from JobDetails page

- Commit `e27df7428032bd26355d64edec4745e9583bf33c` in branch `rag`
- Integrated existing deleteJob API into JobDetails.tsx
- Added confirmation prompt and error handling
- Redirect user to dashboard after successful deletion

### Add project and skill sections to UserProfile with sync fixes

- Commit `8d26c1cead274b5eb362ab410500aa5eae2214ed` in branch `patches`
- Implemented UI support for projects and skills in UserProfile
- Synced add/edit/delete logic with ResumeBuilder using temporary ID and diff strategy
- Fixed mismatch in skill proficiency values between UserProfile and ResumeBuilder
    - Normalized case and dropdown values to ensure consistent display and saving across pages